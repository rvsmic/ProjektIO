//
//
//  Generated by StarUML(tm) C++ Add-In
//
//  @ Project : Untitled
//  @ File Name : Wykladowca.cpp
//  @ Date : 24.05.2023
//  @ Author :
//
//


#include "Wykladowca.h"

Wykladowca::Wykladowca(string login, string haslo, string identyfikator) {
    cout << "Stworzono obiekt klasy " << "Wykladowca!\n";
    this->login = login;
    this->haslo = haslo;
    this->identyfikator = identyfikator;
    this->czyStudent = false;
}

void Wykladowca::setIdentyfikator(string identyfikator) {
    this->identyfikator = identyfikator;
}

string Wykladowca::getIdentyfikator() {
    return this->identyfikator;
}

void Wykladowca::dodajPrzedmiot(string nazwa) {
    Przedmiot* przedmiot = new Przedmiot(nazwa, this);
    this->przedmioty.push_back(przedmiot);
}

void Wykladowca::usunPrzedmiot(string nazwa) {
    for(auto x = przedmioty.begin(); x != przedmioty.end(); x++){
        if((*x)->getNazwa() == nazwa){
            przedmioty.erase(x);
            return;
        }
    }
    cout << "Nie znaleziono przedmiotu z taka nazwa!\n";
}

void Wykladowca::dodajMaterialy(Przedmiot* przedmiot, string link) {
    przedmiot->dodajMaterialy(link);
}

void Wykladowca::usunMaterialy(string przedmiot, string link) {
    for(auto x = przedmioty.begin(); x != przedmioty.end(); x++){
        if((*x)->getNazwa() == przedmiot){
            (*x)->usunMaterialy(link);
            return;
        }
    }
}

void Wykladowca::dodajOcene(Przedmiot* przedmiot, string nrAlbumu, int ocena) {
    przedmiot->znajdzStudenta(nrAlbumu)->dodajOcene(przedmiot, ocena);
}

void Wykladowca::usunOcene(Przedmiot* przedmiot, string nrAlbumu) {
    Student* stud = przedmiot->znajdzStudenta(nrAlbumu);
    if(stud != nullptr){
        stud->usunOcene(przedmiot);
    }
}

void Wykladowca::dodajStudentaDoPrzedmiotu(Przedmiot* przedmiot, Student* student){
    przedmiot->dodajStudenta(student);
    student->dodajOcene(przedmiot, -1);
}

void Wykladowca::usunStudentaZPrzedmiotu(string przedmiot, Student* student){
    for(auto x = przedmioty.begin(); x != przedmioty.end(); x++){
        if((*x)->getNazwa() == przedmiot){
            (*x)->usunStudenta(student);
            return;
        }
    }
}
// DODANE - CO NAJMNIEJ TO
void Wykladowca::wyswietlPrzedmioty() {
    int i=0;
    for(auto x = przedmioty.begin(); x != przedmioty.end(); x++){
        cout<<" - "<<(*x)->getNazwa()<<"\n";
        ++i;
    }
    if(i==0) {
        cout<<"Brak prowadzonych przedmiotow w bazie danych!\n";
    }
}

void Wykladowca::wyswietlPrzedmiotyZeStudentami() {
    int i=0;
    for(auto x = przedmioty.begin(); x != przedmioty.end(); x++){
        cout<<" - "<<(*x)->getNazwa()<<"\n";
        (*x)->wyswietlStudentow();
        ++i;
    }
    if(i==0) {
        cout<<"Brak uczonych przedmiotow w bazie danych!\n";
    }
}

void Wykladowca::wyswietlPrzedmiotyZMaterialami() {
    int i=0;
    for(auto x = przedmioty.begin(); x != przedmioty.end(); x++){
        cout<<" - "<<(*x)->getNazwa()<<"\n";
        (*x)->wyswietlMaterialy();
        ++i;
    }
    if(i==0) {
        cout<<"Brak uczonych przedmiotow w bazie danych!\n";
    }
}

void Wykladowca::wyswietlPrzedmiotyZeStudentamiIOcenami() {
    int i=0;
    for(auto x = przedmioty.begin(); x != przedmioty.end(); x++){
        cout<<" - "<<(*x)->getNazwa()<<"\n";
        (*x)->wyswietlStudentowIOceny((*x)->getNazwa());
        ++i;
    }
    if(i==0) {
        cout<<"Brak uczonych przedmiotow w bazie danych!\n";
    }
}

vector <Przedmiot*>* Wykladowca::getPrzedmioty(){
    return &przedmioty;
}





